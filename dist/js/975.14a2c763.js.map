{"version":3,"file":"js/975.14a2c763.js","mappings":"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","sources":["webpack://iris-vue3-project/./src/views/admin/ProductsView.vue","webpack://iris-vue3-project/./src/components/PaginationBar.vue","webpack://iris-vue3-project/./src/components/PaginationBar.vue?c09e","webpack://iris-vue3-project/./src/components/ProductModal.vue","webpack://iris-vue3-project/./src/components/ProductModal.vue?b0ff","webpack://iris-vue3-project/./src/views/admin/ProductsView.vue?58cd"],"sourcesContent":["<template>\n    <LoadingOverlay :active=\"isLoading\"></LoadingOverlay>\n    <div class=\"text-end\">\n        <button class=\"btn btn-primary\" type=\"button\" @click=\"openModal(true)\">新增項目</button>\n        <!-- <button class=\"btn btn-primary\" type=\"button\" @click=\"$refs.productModal.showModal()\">新增項目</button> -->\n    </div>\n    <table class=\"table mt-4\">\n        <thead>\n            <tr>\n            <th width=\"120\">分類</th>\n            <th>產品名稱</th>\n            <th width=\"120\">原價</th>\n            <th width=\"120\">售價</th>\n            <th width=\"100\">是否啟用</th>\n            <th width=\"200\">編輯</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr v-for=\"item in productList\" :key=\"item.id\">\n            <td>{{ item.category }}</td>\n            <td>{{ item.title }}</td>\n            <td class=\"text-right\">\n                {{ $filters.currency(item.origin_price) }}\n            </td>\n            <td class=\"text-right\">\n                {{ $filters.currency(item.price) }}\n            </td>\n            <td>\n                <span class=\"text-success\" v-if=\"item.is_enabled === 1\">啟用</span>\n                <span class=\"text-muted\" v-else>未啟用</span>\n            </td>\n            <td>\n                <div class=\"btn-group\">\n                <button class=\"btn btn-outline-primary btn-sm\" @click=\"openModal(false,item)\">編輯</button>\n                <button class=\"btn btn-outline-danger btn-sm\" @click=\"deleteModal(item)\">刪除</button>\n                </div>\n            </td>\n            </tr>\n        </tbody>\n    </table>\n    <PaginationBar :pagination-bar=\"pagination\" @emit-page=\"getProductList\" @emit-prevpage=\"getProductList\" @emit-nextpage=\"getProductList\"></PaginationBar>\n    <ProductModal ref=\"productModal\" :product=\"addProductList\" @add-product=\"updateProduct\"></ProductModal>\n    <DeleteModal ref=\"deleteModal\" :delete-item=\"addProductList\" @delete-product=\"deleteProduct\"></DeleteModal>\n</template>\n\n<script>\nimport PaginationBar from '@/components/PaginationBar.vue'\nimport ProductModal from '@/components/ProductModal.vue'\nimport DeleteModal from '@/components/DeleteModal.vue'\n\nexport default {\n  components: {\n    PaginationBar,\n    ProductModal,\n    DeleteModal\n  },\n  data () {\n    return {\n      productList: [],\n      pagination: {},\n      addProductList: {},\n      isNew: false,\n      isLoading: false\n    }\n  },\n  inject: ['emitter'],\n  methods: {\n    getProductList (page = 1) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products/?page=${page}`\n      this.isLoading = true\n      this.$http.get(api)\n        .then((res) => {\n          this.productList = res.data.products\n          this.pagination = res.data.pagination\n          this.isLoading = false\n        })\n    },\n    openModal (isNew, item) {\n      if (isNew) {\n        this.addProductList = {\n          is_enabled: 0 // 瀏覽器預設checkbox value，所以這邊先預設value避免空值\n        }\n      } else {\n        this.addProductList = { ...item } // 展開物件\n      }\n      this.isNew = isNew\n      this.$refs.productModal.showModal()\n    },\n    deleteModal (item) {\n      this.addProductList = { ...item }\n      this.$refs.deleteModal.showModal()\n    },\n    updateProduct (item) {\n      console.log(item)\n      this.addProductList = item\n      // 新增\n      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`\n      let httpMethods = 'post'\n\n      // 編輯\n      if (!this.isNew) {\n        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`\n        httpMethods = 'put'\n      }\n      this.$http[httpMethods](api, { data: this.addProductList })\n        .then((res) => {\n        //   this.getProductList()\n          if (res.data.success) {\n            this.getProductList()\n            this.emitter.emit('push-message', {\n              style: 'success',\n              title: '更新成功'\n            })\n          } else {\n            this.emitter.emit('push-message', {\n              style: 'danger',\n              title: '更新失敗',\n              content: res.data.message.join('、')\n            })\n          }\n          this.$refs.productModal.hideModal()\n        })\n    },\n    deleteProduct () {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.addProductList.id}`\n      this.$http.delete(api)\n        .then((res) => {\n          this.getProductList()\n          this.$refs.deleteModal.hideModal()\n        })\n    }\n  },\n  created () {\n    this.getProductList()\n  }\n}\n</script>\n","<template>\n    <nav aria-label=\"Page navigation example\">\n        <ul class=\"pagination justify-content-center\">\n            <li class=\"page-item\" :class=\"{ 'disabled' : !paginationBar.has_pre }\" @click.prevent=\"prevPage(paginationBar.current_page)\">\n              <a class=\"page-link\">Previous</a>\n            </li>\n            <li class=\"page-item\" v-for=\"page in paginationBar.total_pages\" :key=\"page\"><a class=\"page-link\" :class=\"{ 'active' : page === paginationBar.current_page }\" href=\"#\" @click.prevent=\"updatePage(page)\">{{ page }}</a></li>\n            <li class=\"page-item\" :class=\"{ 'disabled' : !paginationBar.has_next}\" @click.prevent=\"nextPage(paginationBar.current_page)\">\n              <a class=\"page-link\">Next</a>\n            </li>\n        </ul>\n    </nav>\n</template>\n\n<script>\n\nexport default {\n  props: ['paginationBar'],\n  data () {\n    return {\n    }\n  },\n  methods: {\n    updatePage (page) {\n      this.$emit('emit-page', page)\n    },\n    prevPage (currentPage) {\n      currentPage -= 1\n      if (this.paginationBar.has_pre === false) {\n        return\n      }\n      this.$emit('emit-prevpage', currentPage)\n    },\n    nextPage (currentPage) {\n      currentPage += 1\n      if (this.paginationBar.has_next === false) {\n        return\n      }\n      this.$emit('emit-nextpage', currentPage)\n    }\n  }\n}\n</script>\n","import { render } from \"./PaginationBar.vue?vue&type=template&id=14cf6354\"\nimport script from \"./PaginationBar.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationBar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <!-- Modal -->\n    <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\">\n      <!-- 請同學自行新增 v-model -->\n      <div class=\"modal-dialog modal-xl\" role=\"document\">\n        <div class=\"modal-content border-0\">\n          <div class=\"modal-header bg-dark text-white\">\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n              <span>新增產品</span>\n            </h5>\n            <button type=\"button\" class=\"btn-close\"\n                    data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"row\">\n              <div class=\"col-sm-4\">\n                <div class=\"mb-3\">\n                  <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\n                  <input type=\"text\" class=\"form-control\" id=\"image\"\n                          placeholder=\"請輸入圖片連結\">\n                </div>\n                <div class=\"mb-3\">\n                  <label for=\"customFile\" class=\"form-label\">或 上傳圖片\n                    <i class=\"fas fa-spinner fa-spin\"></i>\n                  </label>\n                  <input type=\"file\" id=\"customFile\" class=\"form-control\" ref=\"fileInput\" @change=\"updateFile\">\n                </div>\n                <img class=\"img-fluid\" alt=\"\" :src=\"addProductList.imageUrl\">\n                <!-- 延伸技巧，多圖 -->\n                <div class=\"mt-5\">\n                  <div class=\"mb-3 input-group\" >\n                    <input type=\"url\" class=\"form-control form-control\"\n                            placeholder=\"請輸入連結\">\n                    <button type=\"button\" class=\"btn btn-outline-danger\">\n                      移除\n                    </button>\n                  </div>\n                  <div>\n                    <button class=\"btn btn-outline-primary btn-sm d-block w-100\">\n                      新增圖片\n                    </button>\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-sm-8\">\n                <div class=\"mb-3\">\n                  <label for=\"title\" class=\"form-label\">標題</label>\n                  <input type=\"text\" class=\"form-control\" id=\"title\"\n                          placeholder=\"請輸入標題\" v-model=\"addProductList.title\">\n                </div>\n\n                <div class=\"row gx-2\">\n                  <div class=\"mb-3 col-md-6\">\n                    <label for=\"category\" class=\"form-label\">分類</label>\n                    <input type=\"text\" class=\"form-control\" id=\"category\"\n                            placeholder=\"請輸入分類\" v-model=\"addProductList.category\">\n                  </div>\n                  <div class=\"mb-3 col-md-6\">\n                    <label for=\"price\" class=\"form-label\">單位</label>\n                    <input type=\"text\" class=\"form-control\" id=\"unit\"\n                            placeholder=\"請輸入單位\" v-model=\"addProductList.unit\">\n                  </div>\n                </div>\n\n                <div class=\"row gx-2\">\n                  <div class=\"mb-3 col-md-6\">\n                    <label for=\"origin_price\" class=\"form-label\">原價</label>\n                    <input type=\"number\" class=\"form-control\" id=\"origin_price\"\n                            placeholder=\"請輸入原價\" v-model=\"addProductList.origin_price\">\n                  </div>\n                  <div class=\"mb-3 col-md-6\">\n                    <label for=\"price\" class=\"form-label\">售價</label>\n                    <input type=\"number\" class=\"form-control\" id=\"price\"\n                            placeholder=\"請輸入售價\" v-model=\"addProductList.price\">\n                  </div>\n                </div>\n                <hr>\n\n                <div class=\"mb-3\">\n                  <label for=\"description\" class=\"form-label\">產品描述</label>\n                  <textarea type=\"text\" class=\"form-control\" id=\"description\"\n                            placeholder=\"請輸入產品描述\" v-model=\"addProductList.description\"></textarea>\n                </div>\n                <div class=\"mb-3\">\n                  <label for=\"content\" class=\"form-label\">說明內容</label>\n                  <textarea type=\"text\" class=\"form-control\" id=\"content\"\n                            placeholder=\"請輸入產品說明內容\" v-model=\"addProductList.content\"></textarea>\n                </div>\n                <div class=\"mb-3\">\n                  <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\"\n                            :true-value=\"1\"\n                            :false-value=\"0\"\n                            id=\"is_enabled\"\n                            v-model=\"addProductList.is_enabled\">\n                    <label class=\"form-check-label\" for=\"is_enabled\">\n                      是否啟用\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\"\n                    data-bs-dismiss=\"modal\">取消\n            </button>\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('add-product',addProductList)\">確認</button>\n          </div>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\nimport modalMixins from '@/mixins/modalMixins'\n\nexport default {\n  props: {\n    product: {\n      type: Object,\n      default () { return {} }\n    }\n  },\n  data () {\n    return {\n      modal: {},\n      addProductList: {}\n    }\n  },\n  mixins: [modalMixins],\n  // 因為單向數據流，不能修該外層的資料，但是每次開啟modal就要更新一次，所以這邊要監聽變化然後更新這裡的data\n  watch: {\n    product () {\n      this.addProductList = this.product\n    }\n  },\n  methods: {\n    updateFile () {\n      const uploadedFile = this.$refs.fileInput.files[0]\n      // console.dir(uploadedFile)\n      const formData = new FormData()\n      formData.append('file-to-upload', uploadedFile)\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`\n      this.$http.post(url, formData)\n        .then((res) => {\n          if (res.data.success) {\n            this.addProductList.imageUrl = res.data.imageUrl\n          }\n        })\n      this.$refs.fileInput.value = ''\n    }\n  }\n}\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=fa1610cc\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductsView.vue?vue&type=template&id=638dfe16\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","width","_createVNode","_component_LoadingOverlay","active","$data","isLoading","_hoisted_1","type","onClick","_cache","$event","$options","openModal","_hoisted_2","_hoisted_3","_createElementBlock","_Fragment","_renderList","productList","item","key","id","_toDisplayString","category","title","_hoisted_4","_ctx","$filters","currency","origin_price","_hoisted_5","price","is_enabled","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","deleteModal","_hoisted_10","_component_PaginationBar","pagination","onEmitPage","getProductList","onEmitPrevpage","onEmitNextpage","_component_ProductModal","ref","product","addProductList","onAddProduct","updateProduct","_component_DeleteModal","onDeleteProduct","deleteProduct","_normalizeClass","$props","paginationBar","has_pre","_withModifiers","prevPage","current_page","total_pages","page","href","updatePage","has_next","nextPage","props","data","methods","this","$emit","currentPage","__exports__","tabindex","role","for","placeholder","onChange","args","updateFile","alt","src","imageUrl","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","unit","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","description","_hoisted_29","_hoisted_30","content","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","Object","default","modal","mixins","modalMixins","watch","uploadedFile","$refs","fileInput","files","formData","FormData","append","url","$http","post","then","res","success","value","components","PaginationBar","ProductModal","DeleteModal","isNew","inject","api","get","products","productModal","showModal","console","log","httpMethods","emitter","emit","style","message","join","hideModal","delete","created","render"],"sourceRoot":""}